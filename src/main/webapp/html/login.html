<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>로그인</title>
<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
<style>
div.container {
    width: 400px;
}
</style>
</head>
<body>
<div class="container">
<h1>로그인</h1>
<form>
    <div class="form-group">
        <label for="fId">아이디</label>
        <input type="email" class="form-control" id="fId" placeholder="host@email.com">
    </div>
    <div class="form-group">
        <label for="fPassword">암호</label>
        <input type="password" class="form-control" id="fPassword" placeholder="Password">
    </div>
    <div class="form-group form-check">
        <input type="checkbox" class="form-check-input" id="fSaveId">
        <label class="form-check-label" for="fSaveId">이메일 저장</label>
    </div>
    <button id="loginBtn" type="button" class="btn btn-primary">로그인</button>
</form>

<footer></footer>

</div> <!-- .container -->
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../node_modules/popper.js/dist/umd/popper.min.js"></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../js/common.js"></script>
<!-- <script src="login.js"></script> -->
<script>
'use strict'

$('#loginBtn').click(() => {
     $.post(
            `${serverApiAddr}/json/auth/signIn`, 
            {
                id: $('#fId').val(),
                saveId: $('#fSaveID').prop('checked'),
                password: $('#fPassword').val()
            }, 
            (result) => {
                console.log(result)
                if (result.status === 'success') {
                    location.href = 'main.html';
                } else {
                    alert('로그인 실패!');
                }
            }, 
            'json')
            .fail((e) => {
                alert('서버 요청 중 오류 발생!');
                console.log(e);
            });
});
</script>
</body>
</html>